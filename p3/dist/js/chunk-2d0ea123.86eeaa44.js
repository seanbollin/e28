(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ea123"],{"8fdc":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a={id:"account-page"},i={key:0},c={key:1,id:"loginForm"},o={key:0},l=Object(n["g"])("h2",null,"Login",-1),u=Object(n["f"])("Don't have an account? "),s=Object(n["f"])(" to register."),d=Object(n["f"])(" Email: "),b=Object(n["f"])(" Password: "),p={key:0},j={key:1},O=Object(n["g"])("h2",null,"Register",-1),g=Object(n["f"])("Already have an account? "),f=Object(n["f"])(" to log in."),w=Object(n["f"])(" Name: "),h=Object(n["f"])(" Email: "),v=Object(n["f"])(" Password: "),m={key:0};function y(e,t,r,y,k,V){return Object(n["p"])(),Object(n["d"])("div",a,[V.user?(Object(n["p"])(),Object(n["d"])("div",i,[Object(n["g"])("h2",null,"Hi, "+Object(n["w"])(V.user.name)+"!",1),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return V.logout&&V.logout.apply(V,arguments)})},"Logout")])):(Object(n["p"])(),Object(n["d"])("div",c,[k.registerView?(Object(n["p"])(),Object(n["d"])("div",o,[l,Object(n["g"])("p",null,[u,Object(n["g"])("a",{href:"#",onClick:t[2]||(t[2]=function(){return V.switchToLoginView&&V.switchToLoginView.apply(V,arguments)})},"Click here"),s]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[d,Object(n["B"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return k.data.email=e}),onBlur:t[4]||(t[4]=function(){return V.validate&&V.validate.apply(V,arguments)})},null,544),[[n["y"],k.data.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[b,Object(n["B"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=function(e){return k.data.password=e}),onBlur:t[6]||(t[6]=function(){return V.validate&&V.validate.apply(V,arguments)})},null,544),[[n["y"],k.data.password]])])]),Object(n["g"])("button",{onClick:t[7]||(t[7]=function(){return V.login&&V.login.apply(V,arguments)})},"Login"),k.errors?(Object(n["p"])(),Object(n["d"])("ul",p,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(k.errors,(function(e,t){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:t},Object(n["w"])(e[0]),1)})),128))])):Object(n["e"])("",!0)])):(Object(n["p"])(),Object(n["d"])("div",j,[O,Object(n["g"])("p",null,[g,Object(n["g"])("a",{href:"#",onClick:t[8]||(t[8]=function(){return V.switchToRegisterView&&V.switchToRegisterView.apply(V,arguments)})},"Click here"),f]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[w,Object(n["B"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(e){return k.data.name=e}),onBlur:t[10]||(t[10]=function(){return V.validate&&V.validate.apply(V,arguments)})},null,544),[[n["y"],k.data.name]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[h,Object(n["B"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=function(e){return k.data.email=e}),onBlur:t[12]||(t[12]=function(){return V.validate&&V.validate.apply(V,arguments)})},null,544),[[n["y"],k.data.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[v,Object(n["B"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":t[13]||(t[13]=function(e){return k.data.password=e}),onBlur:t[14]||(t[14]=function(){return V.validate&&V.validate.apply(V,arguments)})},null,544),[[n["y"],k.data.password]])])]),Object(n["g"])("button",{onClick:t[15]||(t[15]=function(){return V.register&&V.register.apply(V,arguments)})},"Register"),k.errors?(Object(n["p"])(),Object(n["d"])("ul",m,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(k.errors,(function(e,t){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:t},Object(n["w"])(e[0]),1)})),128))])):Object(n["e"])("",!0)]))]))])}var k=r("0091"),V=r("1c4a"),B=r.n(V),U={data:function(){return{data:{name:"",email:"",password:""},registerView:!1,errors:null,favorites:[]}},computed:{user:function(){return this.$store.state.user}},methods:{switchToLoginView:function(){this.registerView=!1},switchToRegisterView:function(){this.registerView=!0},login:function(){var e=this;k["a"].post("login",this.data).then((function(t){t.data.authenticated?e.$store.commit("setUser",t.data.user):e.errors=t.data.errors}))},addRecipe:function(){var e=this;k["a"].post("/recipe",this.recipe).then((function(t){t.data.errors?(e.errors=t.data.errors,e.success=!1):(e.$emit("update-recipes"),e.success=!0)}))},register:function(){var e=this;k["a"].post("register",this.data).then((function(t){t.data.errors?e.errors=t.data.errors:e.$store.commit("setUser",t.data.user)}))},logout:function(){var e=this;k["a"].post("logout").then((function(t){t.data.success&&e.$store.commit("setUser",null)}))},validate:function(){var e=new B.a(this.data,{name:"between:3,100",email:"required|email",password:"required"});return e.fails()?this.errors=e.errors.all():this.errors=null,e.passes()}}};U.render=y;t["default"]=U}}]);
//# sourceMappingURL=chunk-2d0ea123.86eeaa44.js.map