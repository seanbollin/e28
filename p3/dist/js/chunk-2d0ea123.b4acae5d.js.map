{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?a676"],"names":["id","user","name","logout","registerView","href","switchToLoginView","type","data","email","validate","password","login","errors","error","index","class","key","switchToRegisterView","register","favorites","computed","this","$store","state","methods","post","then","response","authenticated","commit","addRecipe","recipe","success","$emit","validator","fails","all","passes","render"],"mappings":"sJACSA,GAAG,gB,mBAOQA,GAAG,a,YAEP,eAAc,UAAV,SAAK,G,iBACN,2B,iBAAgF,iB,iBAExE,Y,iBAMA,e,sBAcX,eAAiB,UAAb,YAAQ,G,iBACT,6B,iBAAqF,e,iBAE7E,W,iBAMA,Y,iBAMA,e,0DA/CvB,eA8DM,MA9DN,EA8DM,CA7DS,EAAAC,M,iBAAX,eAIM,SAHF,eAA6B,UAAzB,OAAI,eAAG,EAAAA,KAAKC,MAAO,IAAC,GAExB,eAA2C,UAA9B,QAAK,8BAAE,EAAAC,QAAA,EAAAA,OAAA,sBAAQ,c,iBAGhC,eAsDM,MAtDN,EAsDM,CArDS,EAAAC,c,iBAAX,eAsBM,SArBF,EACA,eAAoG,U,EAA1E,eAAyD,KAAtDC,KAAK,IAAS,QAAK,8BAAE,EAAAC,mBAAA,EAAAA,kBAAA,sBAAmB,c,IACrE,eAKM,YAJF,eAGQ,c,iBADJ,eAA8D,SAAvDC,KAAK,O,qDAAgB,EAAAC,KAAKC,MAAK,IAAO,OAAI,8BAAE,EAAAC,UAAA,EAAAA,SAAA,sB,mBAAvB,EAAAF,KAAKC,aAGzC,eAKM,YAJF,eAGQ,c,iBADJ,eAAqE,SAA9DF,KAAK,W,qDAAoB,EAAAC,KAAKG,SAAQ,IAAO,OAAI,8BAAE,EAAAD,UAAA,EAAAA,SAAA,sB,mBAA1B,EAAAF,KAAKG,gBAI7C,eAAyC,UAA5B,QAAK,8BAAE,EAAAC,OAAA,EAAAA,MAAA,sBAAO,SACjB,EAAAC,Q,iBAAV,eAIK,S,mBAHD,eAEK,2BAFsC,EAAAA,QAAM,SAAvBC,EAAOC,G,wBAAjC,eAEK,MAFDC,MAAM,QAA0CC,IAAKF,G,eAClDD,GAAK,M,oDAIpB,eA6BM,SA5BF,EACA,eAAuG,U,EAA3E,eAA4D,KAAzDT,KAAK,IAAS,QAAK,8BAAE,EAAAa,sBAAA,EAAAA,qBAAA,sBAAsB,c,IAC1E,eAKM,YAJF,eAGQ,c,iBADJ,eAA6D,SAAtDX,KAAK,O,qDAAgB,EAAAC,KAAKN,KAAI,IAAO,OAAI,gCAAE,EAAAQ,UAAA,EAAAA,SAAA,sB,mBAAtB,EAAAF,KAAKN,YAGzC,eAKM,YAJF,eAGQ,c,iBADJ,eAA8D,SAAvDK,KAAK,O,uDAAgB,EAAAC,KAAKC,MAAK,IAAO,OAAI,gCAAE,EAAAC,UAAA,EAAAA,SAAA,sB,mBAAvB,EAAAF,KAAKC,aAGzC,eAKM,YAJF,eAGQ,c,iBADJ,eAAqE,SAA9DF,KAAK,W,uDAAoB,EAAAC,KAAKG,SAAQ,IAAO,OAAI,gCAAE,EAAAD,UAAA,EAAAA,SAAA,sB,mBAA1B,EAAAF,KAAKG,gBAI7C,eAA+C,UAAlC,QAAK,gCAAE,EAAAQ,UAAA,EAAAA,SAAA,sBAAU,YAEpB,EAAAN,Q,iBAAV,eAIK,S,mBAHD,eAEK,2BAFsC,EAAAA,QAAM,SAAvBC,EAAOC,G,wBAAjC,eAEK,MAFDC,MAAM,QAA0CC,IAAKF,G,eAClDD,GAAK,M,4EAYjB,GACXN,KADW,WAEP,MAAO,CACHA,KAAM,CACFN,KAAM,GACNO,MAAO,GACPE,SAAU,IAEdP,cAAc,EACdS,OAAQ,KACRO,UAAW,KAGnBC,SAAU,CACNpB,KADM,WAEF,OAAOqB,KAAKC,OAAOC,MAAMvB,OAGjCwB,QAAS,CACLnB,kBADK,WAEDgB,KAAKlB,cAAe,GAExBc,qBAJK,WAKDI,KAAKlB,cAAe,GAExBQ,MAPK,WAOG,WACJ,OAAMc,KAAK,QAASJ,KAAKd,MAAMmB,MAAK,SAACC,GAC7BA,EAASpB,KAAKqB,cACd,EAAKN,OAAOO,OAAO,UAAWF,EAASpB,KAAKP,MAE5C,EAAKY,OAASe,EAASpB,KAAKK,WAIxCkB,UAhBK,WAgBO,WACR,OAAML,KAAK,UAAWJ,KAAKU,QAAQL,MAAK,SAACC,GACjCA,EAASpB,KAAKK,QACd,EAAKA,OAASe,EAASpB,KAAKK,OAC5B,EAAKoB,SAAU,IAEf,EAAKC,MAAM,kBACX,EAAKD,SAAU,OAI3Bd,SA3BK,WA2BM,WACP,OAAMO,KAAK,WAAYJ,KAAKd,MAAMmB,MAAK,SAACC,GAChCA,EAASpB,KAAKK,OACd,EAAKA,OAASe,EAASpB,KAAKK,OAE5B,EAAKU,OAAOO,OAAO,UAAWF,EAASpB,KAAKP,UAIxDE,OApCK,WAoCI,WACL,OAAMuB,KAAK,UAAUC,MAAK,SAACC,GACnBA,EAASpB,KAAKyB,SACd,EAAKV,OAAOO,OAAO,UAAW,UAI1CpB,SA3CK,WA4CD,IAAIyB,EAAY,IAAI,IAAUb,KAAKd,KAAM,CACrCN,KAAM,gBACNO,MAAO,iBACPE,SAAU,aASd,OANIwB,EAAUC,QACVd,KAAKT,OAASsB,EAAUtB,OAAOwB,MAE/Bf,KAAKT,OAAS,KAGXsB,EAAUG,YC7I7B,EAAOC,OAASA,EAED","file":"js/chunk-2d0ea123.b4acae5d.js","sourcesContent":["<template>\r\n    <div id=\"account-page\">\r\n        <div v-if=\"user\">\r\n            <h2>Hi, {{ user.name }}!</h2>\r\n\r\n            <button v-on:click=\"logout\">Logout</button>\r\n        </div>\r\n\r\n        <div v-else id=\"loginForm\">\r\n            <div v-if=\"registerView\">\r\n                <h2>Login</h2>\r\n                <p>Don't have an account? <a href=\"#\" v-on:click=\"switchToLoginView\">Click here</a> to register.</p>\r\n                <div>\r\n                    <label>\r\n                        Email:\r\n                        <input type=\"text\" v-model=\"data.email\" v-on:blur=\"validate\"/>\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Password:\r\n                        <input type=\"password\" v-model=\"data.password\" v-on:blur=\"validate\"/>\r\n                    </label>\r\n                </div>\r\n\r\n                <button v-on:click=\"login\">Login</button>\r\n                <ul v-if=\"errors\">\r\n                    <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\r\n                        {{ error }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div v-else>\r\n                <h2>Register</h2>\r\n                <p>Already have an account? <a href=\"#\" v-on:click=\"switchToRegisterView\">Click here</a> to log in.</p>\r\n                <div>\r\n                    <label>\r\n                        Name:\r\n                        <input type=\"text\" v-model=\"data.name\" v-on:blur=\"validate\"/>\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Email:\r\n                        <input type=\"text\" v-model=\"data.email\" v-on:blur=\"validate\"/>\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Password:\r\n                        <input type=\"password\" v-model=\"data.password\" v-on:blur=\"validate\"/>\r\n                    </label>\r\n                </div>\r\n\r\n                <button v-on:click=\"register\">Register</button>\r\n\r\n                <ul v-if=\"errors\">\r\n                    <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\r\n                        {{ error }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { axios } from \"../../common/app.js\";\r\nimport Validator from 'validatorjs'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            data: {\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            registerView: false,\r\n            errors: null,\r\n            favorites: [],\r\n        };\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.state.user;\r\n        }\r\n    },\r\n    methods: {\r\n        switchToLoginView() {\r\n            this.registerView = false;\r\n        },\r\n        switchToRegisterView() {\r\n            this.registerView = true;\r\n        },\r\n        login() {\r\n            axios.post(\"login\", this.data).then((response) => {\r\n                if (response.data.authenticated) {\r\n                    this.$store.commit(\"setUser\", response.data.user);\r\n                } else {\r\n                    this.errors = response.data.errors;\r\n                }\r\n            });\r\n        },\r\n        addRecipe() {\r\n            axios.post(\"/recipe\", this.recipe).then((response) => {\r\n                if (response.data.errors) {\r\n                    this.errors = response.data.errors;\r\n                    this.success = false;\r\n                } else {\r\n                    this.$emit(\"update-recipes\");\r\n                    this.success = true;\r\n                }\r\n            });\r\n        },\r\n        register() {\r\n            axios.post(\"register\", this.data).then((response) => {\r\n                if (response.data.errors) {\r\n                    this.errors = response.data.errors;\r\n                } else {\r\n                    this.$store.commit(\"setUser\", response.data.user);\r\n                }\r\n            });\r\n        },\r\n        logout() {\r\n            axios.post(\"logout\").then((response) => {\r\n                if (response.data.success) {\r\n                    this.$store.commit(\"setUser\", null);\r\n                }\r\n            });\r\n        },\r\n        validate() {\r\n            let validator = new Validator(this.data, {\r\n                name: \"between:3,100\",\r\n                email: \"required|email\",\r\n                password: \"required\"\r\n            });\r\n\r\n            if (validator.fails()) {\r\n                this.errors = validator.errors.all();\r\n            } else {\r\n                this.errors = null;\r\n            }\r\n\r\n            return validator.passes();\r\n        },\r\n    }\r\n};\r\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=d3a8843c\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}